function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class e{constructor(e){t(this,"SEC",1e3),t(this,"MIN",60*this.SEC),t(this,"HOU",60*this.MIN),t(this,"bindedPlayPauseToggle",this.playPauseToggle.bind(this)),t(this,"bindedStop",this.stop.bind(this));let i=e.querySelector(".timer__button-play_pause");if(!i)throw new ReferenceError('not elem ".timer__button-play_pause" in tag: '.concat(e.tagName," class: ").concat(e.classList.toString));if(this.buttonPlayPauseToggle=i,i=e.querySelector(".timer__button-stop"),!i)throw new ReferenceError('not elem ".timer__button-stop" in tag: '.concat(e.tagName," class: ").concat(e.classList.toString));if(this.buttonStop=i,i=e.querySelector(".timer__input"),!i)throw new ReferenceError('not elem ".timer__input" in tag: '.concat(e.tagName," class: ").concat(e.classList.toString));this.outputElement=i,this.selfElement=e,this.countedTime=new Date(0),this.lastStartTime=new Date,this.isActive=!1,this.idInterval=null,this.buttonPlayPauseToggle.addEventListener("click",this.bindedPlayPauseToggle),this.buttonStop.addEventListener("click",this.bindedStop)}play(){isNaN(this.idInterval)||clearInterval(this.idInterval),this.lastStartTime.setTime(Date.now()),this.isActive=!0,this.idInterval=setInterval(this.tick.bind(this),1e3),setTimeout((()=>this.selfElement.classList.add("timer-active")).bind(this),0)}pause(){this.isActive=!1,this.countedTime.setTime(Date.now()-this.lastStartTime.getTime()+this.countedTime.getTime()),isNaN(this.idInterval)||clearInterval(this.idInterval),setTimeout((()=>this.selfElement.classList.remove("timer-active")).bind(this),0)}tick(){let t=Date.now();this.isActive&&setTimeout((()=>{t+=this.countedTime.getTime()-this.lastStartTime.getTime();let e=Math.trunc(t%this.MIN/this.SEC),i=e.toString().padStart(2,"0");t/this.MIN>=1&&(t-=e,e=Math.trunc(t%this.HOU/this.MIN),i=e.toString().padStart(2,"0")+":"+i,t/this.HOU>=1&&(t-=e,e=Math.trunc(t/this.HOU),i=e.toString().padStart(2,"0")+":"+i)),setTimeout(this.render.bind(this),0,i)}).bind(this),0)}render(t="00"){"value"in this.outputElement?this.outputElement.value=t:this.outputElement.textContent=t}playPauseToggle(){this.isActive?this.pause():this.play()}stop(){this.isActive=!1,isNaN(this.idInterval)||clearInterval(this.idInterval),this.countedTime.setTime(0),setTimeout((()=>this.selfElement.classList.remove("timer-active")).bind(this),0),setTimeout(this.render.bind(this),0,"00")}destruct(){this.stop(),this.buttonPlayPauseToggle.removeEventListener("click",this.bindedPlayPauseToggle),this.buttonStop.removeEventListener("click",this.bindedStop)}}const i=[function(){for(let t=1;t<this.length;this[t++].destruct());}];document.q=i,document.querySelectorAll(".timer").forEach(t=>i.push(t.myTimer=new e(t)));
//# sourceMappingURL=timer.a239f2af.js.map
